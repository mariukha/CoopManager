Politechnika Świętokrzyska
Wydział Elektrotechniki Automatyki i Informatyki
Bazy Danych - Laboratorium
Numer grupy: 2ID13A
Zespół laboratoryjny: Maksym Mariukha, Daniil Reznik, Artem Labunskyi
Wyniki prac laboratoryjnych z instrukcji 7
Data wykonania ćwiczenia: 12.11.2025

Przebieg laboratorium

-- Zadanie 1: Rozpoczęcie logowania do pliku wyniki_log.txt
SPOOL wyniki_log.txt

-- Zadanie 2: Utworzenie tabeli PracownicyA
CREATE TABLE PracownicyA (
    ID                  NUMBER NOT NULL CONSTRAINT pk_p_p1 PRIMARY KEY,
    Imie                VARCHAR2(30),
    Nazwisko            VARCHAR2(30),
    Stanowisko          VARCHAR2(50),
    Wynagrodzenie       NUMBER
);

-- Zadanie 3: Dodanie kolumny Data_zatrudnienia
ALTER TABLE PracownicyA
ADD Data_zatrudnienia DATE;

-- Zadanie 4: Dodanie rekordów do tabeli PracownicyA
INSERT INTO PracownicyA(ID, Imie, Nazwisko, Stanowisko, Wynagrodzenie, Data_zatrudnienia) VALUES
(1, 'Anna', 'Kowalska', 'Dziennikarka', 5500, '01-JAN-23');

INSERT INTO PracownicyA(ID, Imie, Nazwisko, Stanowisko, Wynagrodzenie, Data_zatrudnienia) VALUES
(2, 'Maciek', 'Bajdor', 'Wykładowca', 6000, '10-DEC-22');

INSERT INTO PracownicyA(ID, Imie, Nazwisko, Stanowisko, Wynagrodzenie, Data_zatrudnienia) VALUES
(3, 'Grzegorz', 'Majda', 'Student', 0, '21-JUN-23');

-- Zadanie 5: Aktualizacja wynagrodzenia
UPDATE PracownicyA
SET Wynagrodzenie = 5000
WHERE ID = 2;

-- Zadanie 6: Usunięcie rekordu
DELETE FROM PracownicyA
WHERE imie = 'Grzegorz' AND nazwisko = 'Majda';

-- Zadanie 7: Wybór wszystkich pracowników
SELECT * FROM PracownicyA;

-- Zadanie 8: Wybór pracowników z wynagrodzeniem > 5000
SELECT * FROM PracownicyA WHERE Wynagrodzenie > 5000;

-- Zadanie 9: Sortowanie wyników według nazwiska
SELECT * FROM PracownicyA ORDER BY nazwisko;

-- Zadanie 10: Usunięcie tabeli PracownicyA
DROP TABLE PracownicyA CASCADE CONSTRAINTS;

-- Zadanie 11: Wprowadzenie danych do wszystkich tabel w zaprojektowanych wcześniej bazie danych podczas wykonywania ćwiczeń laboratoryjnych od 3 do 5

-- 1. Budynek
CREATE TABLE budynek (
    id_budynku  NUMBER NOT NULL,
    adres       VARCHAR2(50) NOT NULL,
    rok_budowy  DATE,
    CONSTRAINT pk_budynek PRIMARY KEY (id_budynku)
);
INSERT INTO budynek(id_budynku, adres, rok_budowy) VALUES (1, 'Al. Tysiaclecia PP 17a', '23-JUL-76');
INSERT INTO budynek(id_budynku, adres, rok_budowy) VALUES (2, 'ul. Sienkiewicza 283', '02-OCT-83');
INSERT INTO budynek(id_budynku, adres, rok_budowy) VALUES (3, 'ul. Marszałkowska 52', '15-MAJ-32');

-- 2. Spotkanie mieszkancow
CREATE TABLE spotkanie_mieszkancow (
    id_spotkania  NUMBER NOT NULL,
    temat         VARCHAR2(50),
    miejsce       VARCHAR2(50),
    data          DATE,
    CONSTRAINT pk_spotkanie PRIMARY KEY (id_spotkania)
);
INSERT INTO spotkanie_mieszkancow(id_spotkania, temat, miejsce, data) VALUES (999, 'Wprowadzenia', 'portiernia#1', '22-NOV-25');
INSERT INTO spotkanie_mieszkancow(id_spotkania, temat, miejsce, data) VALUES (998, 'Wprowadzenia dodatkowe', 'portiernia#1', '29-NOV-25');
INSERT INTO spotkanie_mieszkancow(id_spotkania, temat, miejsce, data) VALUES (997, 'Pralnia', 'portiernia#1', '30-NOV-25');

-- 3. Mieszkanie
CREATE TABLE mieszkanie (
    id_mieszkania   NUMBER NOT NULL,
    powierzchnia    NUMBER,
    numer           VARCHAR2(10),
    liczba_pokoi    NUMBER,
    id_budynku      NUMBER NOT NULL,
    CONSTRAINT pk_mieszkanie PRIMARY KEY (id_mieszkania),
    CONSTRAINT fk_mieszkanie_budynek FOREIGN KEY (id_budynku) REFERENCES budynek(id_budynku)
);
INSERT INTO mieszkanie(id_mieszkania, powierzchnia, numer, liczba_pokoi, id_budynku) VALUES (407, 50.5, '407', 2, 1);
INSERT INTO mieszkanie(id_mieszkania, powierzchnia, numer, liczba_pokoi, id_budynku) VALUES (409, 65.0, '409', 3, 1);
INSERT INTO mieszkanie(id_mieszkania, powierzchnia, numer, liczba_pokoi, id_budynku) VALUES (101, 30.0, '101', 1, 2);

-- 4. Pracownik
CREATE TABLE pracownik (
    id_pracownika     NUMBER NOT NULL,
    imie              VARCHAR2(30),
    nazwisko          VARCHAR2(50),
    numer_telefonu    NUMBER,
    stanowisko_pracy  VARCHAR2(30),
    id_budynku        NUMBER,
    CONSTRAINT pk_pracownik PRIMARY KEY (id_pracownika),
    CONSTRAINT fk_pracownik_budynek FOREIGN KEY (id_budynku) REFERENCES budynek(id_budynku)
);
INSERT INTO pracownik (id_pracownika, imie, nazwisko, numer_telefonu, stanowisko_pracy, id_budynku) VALUES (50001, 'Bartosz', 'Kaczmar', 329424823, 'portiernia#1', 1);
INSERT INTO pracownik (id_pracownika, imie, nazwisko, numer_telefonu, stanowisko_pracy, id_budynku) VALUES (50002, 'Bartosz', 'Wisniewski', 393424823, 'portiernia#1', 2);
INSERT INTO pracownik (id_pracownika, imie, nazwisko, numer_telefonu, stanowisko_pracy, id_budynku) VALUES (50003, 'Anna', 'Kowalska', 489092823, 'portiernia#2', 2);

-- 5. Naprawa
CREATE TABLE naprawa (
    id_naprawy      NUMBER NOT NULL,
    id_pracownika   NUMBER NOT NULL,
    id_mieszkania   NUMBER NOT NULL,
    data_zgloszenia DATE,
    status          VARCHAR2(30),
    CONSTRAINT pk_naprawa PRIMARY KEY (id_naprawy),
    CONSTRAINT fk_naprawa_pracownik FOREIGN KEY (id_pracownika) REFERENCES pracownik(id_pracownika),
    CONSTRAINT fk_naprawa_mieszkanie FOREIGN KEY (id_mieszkania) REFERENCES mieszkanie(id_mieszkania)
);
INSERT INTO naprawa(id_naprawy, id_pracownika, id_mieszkania, data_zgloszenia, status) VALUES (1, 50001, 407, '01-DEC-25', 'Oczekuje');
INSERT INTO naprawa(id_naprawy, id_pracownika, id_mieszkania, data_zgloszenia, status) VALUES (2, 50003, 101, '02-DEC-25', 'W toku');
INSERT INTO naprawa(id_naprawy, id_pracownika, id_mieszkania, data_zgloszenia, status) VALUES (3, 50001, 409, '03-DEC-25', 'Zakonczona');

-- 6. Czlonek
CREATE TABLE czlonek (
    id_czlonka              NUMBER NOT NULL,
    imie                    VARCHAR2(30),
    nazwisko                VARCHAR2(30),
    adres_korespondencyjny  VARCHAR2(50),
    numer_telefonu          NUMBER,
    id_mieszkania           NUMBER NOT NULL,
    id_spotkania            NUMBER, 
    CONSTRAINT pk_czlonek PRIMARY KEY (id_czlonka),
    CONSTRAINT fk_czlonek_mieszkanie FOREIGN KEY (id_mieszkania) REFERENCES mieszkanie(id_mieszkania),
    CONSTRAINT fk_czlonek_spotkanie FOREIGN KEY (id_spotkania) REFERENCES spotkanie_mieszkancow(id_spotkania)
);
INSERT INTO czlonek(id_czlonka, imie, nazwisko, adres_korespondencyjny, numer_telefonu, id_mieszkania, id_spotkania) VALUES (1, 'Maksym', 'Mariukha', 'al. Tysiaclecia PP 15', 843234834, 407, 999);
INSERT INTO czlonek(id_czlonka, imie, nazwisko, adres_korespondencyjny, numer_telefonu, id_mieszkania, id_spotkania) VALUES (2, 'Jan', 'Bak', 'al. Tysiaclecia PP 19', 843754834, 409, 999);
INSERT INTO czlonek(id_czlonka, imie, nazwisko, adres_korespondencyjny, numer_telefonu, id_mieszkania, id_spotkania) VALUES (3, 'Daniil', 'Reznik', 'al. Tysiaclecia PP 11', 843923834, 101, 998);

-- 7. Umowa
CREATE TABLE umowa (
    id_umowa          NUMBER NOT NULL,
    id_mieszkania     NUMBER NOT NULL,
    id_czlonka        NUMBER NOT NULL,
    data_zawarcia     DATE,
    data_wygaszenia   DATE,
    CONSTRAINT pk_umowa PRIMARY KEY (id_umowa),
    CONSTRAINT fk_umowa_mieszkanie FOREIGN KEY (id_mieszkania) REFERENCES mieszkanie(id_mieszkania),
    CONSTRAINT fk_umowa_czlonek FOREIGN KEY (id_czlonka) REFERENCES czlonek(id_czlonka)
);
INSERT INTO umowa (id_umowa, id_mieszkania, id_czlonka, data_zawarcia, data_wygaszenia) VALUES (1, 407, 1, '23-JUN-24', '12-MAJ-26');
INSERT INTO umowa (id_umowa, id_mieszkania, id_czlonka, data_zawarcia, data_wygaszenia) VALUES (2, 409, 2, '20-MAR-24', '11-OCT-26');
INSERT INTO umowa (id_umowa, id_mieszkania, id_czlonka, data_zawarcia, data_wygaszenia) VALUES (3, 101, 3, '13-APR-24', '15-JUN-27');

-- 8. Uslugi
CREATE TABLE uslugi (
    id_uslugi       NUMBER NOT NULL,
    nazwa_uslugi    VARCHAR2(30),
    data_uslugi     DATE,
    stan            VARCHAR2(30),
    id_czlonka      NUMBER NOT NULL,
    CONSTRAINT pk_uslugi PRIMARY KEY (id_uslugi),
    CONSTRAINT fk_uslugi_czlonek FOREIGN KEY (id_czlonka) REFERENCES czlonek(id_czlonka)
);
INSERT INTO uslugi (id_uslugi, nazwa_uslugi, data_uslugi, stan, id_czlonka) VALUES (1, 'Internet', '01-DEC-25', 'Aktywna', 1);
INSERT INTO uslugi (id_uslugi, nazwa_uslugi, data_uslugi, stan, id_czlonka) VALUES (2, 'Telewizja', '01-DEC-25', 'Aktywna', 2);
INSERT INTO uslugi (id_uslugi, nazwa_uslugi, data_uslugi, stan, id_czlonka) VALUES (3, 'Internet', '02-DEC-25', 'Oczekuje', 3);

-- 9. Oplata
CREATE TABLE oplata (
    id_oplaty         NUMBER NOT NULL,
    kwota             NUMBER,
    data_wystawienia  DATE,
    id_czlonka        NUMBER,
    CONSTRAINT pk_oplata PRIMARY KEY (id_oplaty),
    CONSTRAINT fk_oplata_czlonek FOREIGN KEY (id_czlonka) REFERENCES czlonek(id_czlonka)
);
INSERT INTO oplata (id_oplaty, kwota, data_wystawienia, id_czlonka) VALUES (11111, 5343, '22-NOV-25', 1);
INSERT INTO oplata (id_oplaty, kwota, data_wystawienia, id_czlonka) VALUES (11112, 600, '21-JUN-25', 2);
INSERT INTO oplata (id_oplaty, kwota, data_wystawienia, id_czlonka) VALUES (11113, 900, '10-NOV-23', 3);

-- 10. Konto bankowe
CREATE TABLE konto_bankowe (
    id_konta      NUMBER NOT NULL,
    numer_konta   VARCHAR2(30),
    stan          NUMBER,
    id_czlonka    NUMBER NOT NULL,
    id_oplaty     NUMBER NOT NULL,
    CONSTRAINT pk_konto_bankowe PRIMARY KEY (id_konta),
    CONSTRAINT fk_konto_czlonek FOREIGN KEY (id_czlonka) REFERENCES czlonek(id_czlonka),
    CONSTRAINT fk_konto_oplata FOREIGN KEY (id_oplaty) REFERENCES oplata(id_oplaty)
);
INSERT INTO konto_bankowe(id_konta, numer_konta, stan, id_czlonka, id_oplaty) VALUES (10, 'PL49102028922276300500000000', 1500.00, 1, 11111);
INSERT INTO konto_bankowe(id_konta, numer_konta, stan, id_czlonka, id_oplaty) VALUES (11, 'PL61109010140000071219812874', 200.50, 2, 11112);
INSERT INTO konto_bankowe(id_konta, numer_konta, stan, id_czlonka, id_oplaty) VALUES (12, 'PL32105010251000009080000000', -50.00, 3, 11113);


-- Zadanie 12: Wyświetlenie zawartości wszystkich tabel
SELECT * FROM budynek;
SELECT * FROM spotkanie_mieszkancow;
SELECT * FROM mieszkanie;
SELECT * FROM pracownik;
SELECT * FROM naprawa;
SELECT * FROM czlonek;
SELECT * FROM umowa;
SELECT * FROM uslugi;
SELECT * FROM oplata;
SELECT * FROM konto_bankowe;

-- Zadanie 13: Zakończenie logowania do pliku
SPOOL OFF;

-- Zadanie 14: Zawartość pliku wyniki_log.txt:


Table PRACOWNICYA created.


Table PRACOWNICYA altered.


1 row inserted.


1 row inserted.


1 row inserted.


1 row updated.


1 row deleted.


        ID IMIE                           NAZWISKO                       STANOWISKO                                         WYNAGRODZENIE DATA_ZATRU
---------- ------------------------------ ------------------------------ -------------------------------------------------- ------------- ----------
         1 Anna                           Kowalska                       Dziennikarka                                                5500 01-JAN-23
         2 Maciek                         Bajdor                         Wykładowca                                                  5000 10-DEC-22


        ID IMIE                           NAZWISKO                       STANOWISKO                                         WYNAGRODZENIE DATA_ZATRU
---------- ------------------------------ ------------------------------ -------------------------------------------------- ------------- ----------
         1 Anna                           Kowalska                       Dziennikarka                                                5500 01-JAN-23


        ID IMIE                           NAZWISKO                       STANOWISKO                                         WYNAGRODZENIE DATA_ZATRU
---------- ------------------------------ ------------------------------ -------------------------------------------------- ------------- ----------
         2 Maciek                         Bajdor                         Wykładowca                                                  5000 10-DEC-22
         1 Anna                           Kowalska                       Dziennikarka                                                5500 01-JAN-23


Table PRACOWNICYA dropped.


Table BUDYNEK created.


1 row inserted.


1 row inserted.


1 row inserted.


Table SPOTKANIE_MIESZKANCOW created.


1 row inserted.


1 row inserted.


1 row inserted.


Table MIESZKANIE created.


1 row inserted.


1 row inserted.


1 row inserted.


Table PRACOWNIK created.


1 row inserted.


1 row inserted.


1 row inserted.


Table NAPRAWA created.


1 row inserted.


1 row inserted.


1 row inserted.


Table CZLONEK created.


1 row inserted.


1 row inserted.


1 row inserted.


Table UMOWA created.


1 row inserted.


1 row inserted.


1 row inserted.


Table USLUGI created.


1 row inserted.


1 row inserted.


1 row inserted.


Table OPLATA created.


1 row inserted.


1 row inserted.


1 row inserted.


Table KONTO_BANKOWE created.


1 row inserted.


1 row inserted.


1 row inserted.

================= TABELA BUDYNEK =================

ID_BUDYNKU ADRES                                              ROK_BUDOWY
---------- -------------------------------------------------- ----------
         1 Al. Tysiaclecia PP 17a                             23-JUL-76
         2 ul. Sienkiewicza 283                               02-OCT-83
         3 ul. Marszałkowska 52                               15-MAY-32

================= TABELA SPOTKANIE_MIESZKANCOW =================

ID_SPOTKANIA TEMAT                                              MIEJSCE                                            DATA      
------------ -------------------------------------------------- -------------------------------------------------- ----------
         999 Wprowadzenia                                       portiernia#1                                       22-NOV-25
         998 Wprowadzenia dodatkowe                             portiernia#1                                       29-NOV-25
         997 Pralnia                                            portiernia#1                                       30-NOV-25

================= TABELA MIESZKANIE =================

ID_MIESZKANIA POWIERZCHNIA NUMER      LICZBA_POKOI ID_BUDYNKU
------------- ------------ ---------- ------------ ----------
          407         50,5 407                   2          1
          409           65 409                   3          1
          101           30 101                   1          2

================= TABELA PRACOWNIK =================

ID_PRACOWNIKA IMIE                           NAZWISKO                                           NUMER_TELEFONU STANOWISKO_PRACY               ID_BUDYNKU
------------- ------------------------------ -------------------------------------------------- -------------- ------------------------------ ----------
        50001 Bartosz                        Kaczmar                                                 329424823 portiernia#1                            1
        50002 Bartosz                        Wisniewski                                              393424823 portiernia#1                            2
        50003 Anna                           Kowalska                                                489092823 portiernia#2                            2

================= TABELA NAPRAWA =================

ID_NAPRAWY ID_PRACOWNIKA ID_MIESZKANIA DATA_ZGLOS STATUS                        
---------- ------------- ------------- ---------- ------------------------------
         1         50001           407 01-DEC-25 Oczekuje                      
         2         50003           101 02-DEC-25 W toku                        
         3         50001           409 03-DEC-25 Zakonczona                    

================= TABELA CZLONEK =================

ID_CZLONKA IMIE                           NAZWISKO                       ADRES_KORESPONDENCYJNY                             NUMER_TELEFONU ID_MIESZKANIA ID_SPOTKANIA
---------- ------------------------------ ------------------------------ -------------------------------------------------- -------------- ------------- ------------
         1 Maksym                         Mariukha                       al. Tysiaclecia PP 15                                   843234834           407          999
         2 Jan                            Bak                            al. Tysiaclecia PP 19                                   843754834           409          999
         3 Daniil                         Reznik                         al. Tysiaclecia PP 11                                   843923834           101          998

================= TABELA UMOWA =================

  ID_UMOWA ID_MIESZKANIA ID_CZLONKA DATA_ZAWAR DATA_WYGAS
---------- ------------- ---------- ---------- ----------
         1           407          1 23-JUN-24 12-MAY-26
         2           409          2 20-MAR-24 11-OCT-26
         3           101          3 13-APR-24 15-JUN-27

================= TABELA USLUGI =================

 ID_USLUGI NAZWA_USLUGI                   DATA_USLUG STAN                           ID_CZLONKA
---------- ------------------------------ ---------- ------------------------------ ----------
         1 Internet                       01-DEC-25 Aktywna                                 1
         2 Telewizja                      01-DEC-25 Aktywna                                 2
         3 Internet                       02-DEC-25 Oczekuje                                3

================= TABELA OPLATA =================

 ID_OPLATY      KWOTA DATA_WYSTA ID_CZLONKA
---------- ---------- ---------- ----------
     11111       5343 22-NOV-25          1
     11112        600 21-JUN-25          2
     11113        900 10-NOV-23          3

================= TABELA KONTO_BANKOWE =================

  ID_KONTA NUMER_KONTA                          STAN ID_CZLONKA  ID_OPLATY
---------- ------------------------------ ---------- ---------- ----------
        10 PL49102028922276300500000000         1500          1      11111
        11 PL61109010140000071219812874        200,5          2      11112
        12 PL32105010251000009080000000          -50          3      11113




Wniosek. Podczas laboratorium zrealizowanliśmy wszystkie zadania, co pozwoliło na praktyczne przećwiczenie podstawowych poleceń SQL. Przetestowaliśmy podstawowe operacje, takie jak CREATE, ALTER TABLE, INSERT, UPDATE i DELETE. Zweryfikowaliśmy także działanie zapytań SELECT z klauzulami WHERE i ORDER BY. Cały proces, wraz z wynikami wszystkich wykonanych zapytań, został pomyślnie zapisany w pliku wyniki_log.txt. Laboratorium potwierdziło umiejętność tworzenia struktur bazodanowych oraz efektywnego manipulowania i odczytywania danych.
